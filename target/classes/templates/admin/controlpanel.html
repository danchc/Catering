<!--
home admin
-->
<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments/base.html :: headerfiles(title='Admin | Pannello di Controllo')"></head>
<body>

    <!-- navbar -->
    <header id="navbar-cp">
        <div class="navbar">
            <div class="nav-container flex">
                <div id="nav-logo">
                    <a href="" th:href="@{/default}"><img src="/images/r3-logo-dark.png" th:src="@{/images/r3-logo-dark.png}"> </a>
                </div>
                <nav class="nav-links">
                    <ul>
                        <li><a href="" class="active" th:href="@{/default}">Home</a></li>
                        <li><a href="" th:href="@{/buffets}">Buffets</a></li>
                        <li><a href="contacts.html" th:href="@{/contacts}">Contatti</a></li>
                    </ul>

                </nav>
                <div sec:authorize="isAuthenticated()" class="dropdown-personal">
                    <button class="dropdown-btn"><i class="fa-regular fa-user"></i> <span sec:authentication="name"></span></button>
                    <div class="dropdown-content">
                        <a href="#" th:href="@{/controlpanel}">Pannello di controllo</a>
                        <a href="" th:href="@{/logout}">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- -->

    <!-- control panel section-->
    <div class="cp-flex-container">
        <div class="col-btn-container">
            <div class="cp-title">
                <i class="fa-solid fa-gears"></i>Pannello di controllo
            </div>
            <div class="cp-btn">
                <a th:href="@{/buffetForm}"><button>Aggiungi nuovo buffet</button></a>
                <button onClick="window.location.reload();">Aggiorna</button>
            </div>
            <table id="buffet">
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Descrizione</th>
                    <th>Chef</th>
                    <th>Piatti</th>
                    <th></th>
                </tr>
                <tr th:each="buffet : ${listBuffet}">
                    <td th:text="${buffet.id}">Id</td>
                    <td th:text="${buffet.nome}">Nome</td>
                    <td th:text="${buffet.descrizione}">Descrizione</td>
                    <td th:text="${buffet.chef}">Chef</td>
                    <td th:text="${buffet.piatti}">Piatti</td>
                    <td class="del"><button class="delete">Delete</button></td>
                </tr>
            </table>
            <div th:if="${listBuffet.isEmpty()}">
                Non ci sono ancora buffet inseriti nel database.
            </div>


        </div>
    </div>
    <!-- end control panel section-->

    <!-- footer -->
    <footer th:replace="fragments/base.html :: footer-base"></footer>
    <!-- -->
</body>
</html>